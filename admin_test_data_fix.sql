-- 为admin用户添加测试数据关联
-- 让admin(ID=1)能看到测试数据

-- 1. 为admin添加好友关系
INSERT INTO `im_friend` (`id`, `user_id`, `friend_user_id`, `alias`, `remark`, `status`, `create_time`, `update_time`) VALUES
(2001, 1, 1001, '张三', '测试好友1', 'NORMAL', '2024-12-31 10:00:00', '2024-12-31 10:00:00'),
(2002, 1, 1002, '李四', '测试好友2', 'NORMAL', '2024-12-31 10:00:00', '2024-12-31 10:00:00'),
(2003, 1, 1003, '王五', '测试好友3', 'NORMAL', '2024-12-31 10:00:00', '2024-12-31 10:00:00'),
(2004, 1, 1004, '赵六', '测试好友4', 'NORMAL', '2024-12-31 10:00:00', '2024-12-31 10:00:00'),
(2005, 1, 1005, '钱七', '测试好友5', 'NORMAL', '2024-12-31 10:00:00', '2024-12-31 10:00:00');

-- 反向好友关系
INSERT INTO `im_friend` (`id`, `user_id`, `friend_user_id`, `alias`, `remark`, `status`, `create_time`, `update_time`) VALUES
(2006, 1001, 1, '管理员', '系统管理员', 'NORMAL', '2024-12-31 10:00:00', '2024-12-31 10:00:00'),
(2007, 1002, 1, '管理员', '系统管理员', 'NORMAL', '2024-12-31 10:00:00', '2024-12-31 10:00:00'),
(2008, 1003, 1, '管理员', '系统管理员', 'NORMAL', '2024-12-31 10:00:00', '2024-12-31 10:00:00'),
(2009, 1004, 1, '管理员', '系统管理员', 'NORMAL', '2024-12-31 10:00:00', '2024-12-31 10:00:00'),
(2010, 1005, 1, '管理员', '系统管理员', 'NORMAL', '2024-12-31 10:00:00', '2024-12-31 10:00:00');

-- 2. 让admin加入现有群组
INSERT INTO `im_group_member` (`id`, `group_id`, `user_id`, `role`, `nickname`, `join_time`, `create_time`) VALUES
(2001, 1, 1, 'ADMIN', '管理员', '2024-12-31 10:00:00', '2024-12-31 10:00:00'),
(2002, 2, 1, 'ADMIN', '管理员', '2024-12-31 10:00:00', '2024-12-31 10:00:00'),
(2003, 3, 1, 'ADMIN', '管理员', '2024-12-31 10:00:00', '2024-12-31 10:00:00');

-- 3. 为admin创建一些会话
INSERT INTO `im_conversation` (`id`, `type`, `target_id`, `last_message_id`, `create_time`, `update_time`) VALUES
(101, 'PRIVATE', 1001, NULL, '2024-12-31 10:00:00', '2024-12-31 10:00:00'),
(102, 'PRIVATE', 1002, NULL, '2024-12-31 10:00:00', '2024-12-31 10:00:00'),
(103, 'GROUP', 1, NULL, '2024-12-31 10:00:00', '2024-12-31 10:00:00');

-- 4. 为admin添加会话成员关系
INSERT INTO `im_conversation_member` (`id`, `conversation_id`, `user_id`, `unread_count`, `last_read_message_id`, `is_muted`, `is_pinned`, `create_time`, `update_time`) VALUES
(2001, 101, 1, 0, NULL, 0, 0, '2024-12-31 10:00:00', '2024-12-31 10:00:00'),
(2002, 101, 1001, 0, NULL, 0, 0, '2024-12-31 10:00:00', '2024-12-31 10:00:00'),
(2003, 102, 1, 0, NULL, 0, 0, '2024-12-31 10:00:00', '2024-12-31 10:00:00'),
(2004, 102, 1002, 0, NULL, 0, 0, '2024-12-31 10:00:00', '2024-12-31 10:00:00'),
(2005, 103, 1, 0, NULL, 0, 0, '2024-12-31 10:00:00', '2024-12-31 10:00:00');

-- 5. 为admin添加一些测试消息
INSERT INTO `im_message` (`id`, `conversation_id`, `sender_id`, `receiver_id`, `message_type`, `content`, `is_read`, `is_revoked`, `create_time`, `update_time`) VALUES
(2001, 101, 1, 1001, 'TEXT', '你好张三，这是管理员发送的测试消息', 0, 0, '2024-12-31 10:30:00', '2024-12-31 10:30:00'),
(2002, 101, 1001, 1, 'TEXT', '管理员您好！收到您的消息了', 1, 0, '2024-12-31 10:31:00', '2024-12-31 10:31:00'),
(2003, 102, 1, 1002, 'TEXT', '李四，项目进展如何？', 0, 0, '2024-12-31 10:32:00', '2024-12-31 10:32:00'),
(2004, 102, 1002, 1, 'TEXT', '管理员，项目进展顺利，预计本周完成', 1, 0, '2024-12-31 10:33:00', '2024-12-31 10:33:00'),
(2005, 103, 1, NULL, 'TEXT', '大家好，我是管理员，欢迎大家！', 1, 0, '2024-12-31 10:35:00', '2024-12-31 10:35:00');