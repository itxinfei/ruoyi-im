// ============================================================================
// DingTalk User Profile Dialog Styles
// 钉钉6.5.x PC版个人资料弹窗样式
// ============================================================================
//
// 说明：
// 1. 现代化的个人信息资料卡布局
// 2. 在线状态光圈动画效果
// 3. 联系方式卡片布局
// 4. 内容统计卡片布局
// 5. 操作按钮栏优化
// 6. 响应式设计
//
// ============================================================================

@use 'sass:color';

// ============================================================================
// CSS Variables (运行时主题支持)
// ============================================================================
:root {
  // ==================== 主色系 ====================
  --dt-primary: #1677ff;          // 钉钉蓝 - 主色
  --dt-primary-hover: #4096ff;
  --dt-primary-active: #0958d9;

  // ==================== 功能色 ====================
  --dt-success: #52c41a;           // 成功绿
  --dt-warning: #faad14;           // 警告橙
  --dt-error: #ff4d4f;            // 错误红

  // ==================== 文字颜色 ====================
  --dt-text-primary: #262626;     // 标题色 - 主要文字
  --dt-text-secondary: #595959;   // 正文色 - 次要文字
  --dt-text-tertiary: #8c8c8c;    // 辅助文字 - 时间戳、标签等
  --dt-text-placeholder: #bfbfbf;   // 占位符文字
  --dt-text-disabled: #d9d9d9;     // 禁用文字

  // ==================== 背景色 ====================
  --dt-bg-white: #ffffff;          // 纯白背景
  --dt-bg-base: #f0f2f5;          // 钉钉规范 - 浅灰背景
  --dt-bg-hover: #f5f7fa;         // hover状态背景
  --dt-bg-disabled: #f5f5f5;       // 禁用背景
  --dt-bg-mask: rgba(0, 0, 0, 0.45);  // 遮罩层

  // ==================== 边框颜色 ====================
  --dt-border-light: #f0f0f0;      // 浅色边框
  --dt-border-base: #d9d9d9;       // 钉钉边框色
  --dt-border-dark: #bfbfbf;         // 深色边框

  // ==================== 圆角 ====================
  --dt-radius-sm: 4px;
  --dt-radius-base: 6px;
  --dt-radius-lg: 8px;
  --dt-radius-xl: 12px;
  --dt-radius-round: 50%;

  // ==================== 阴影 ====================
  --dt-shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.03), 0 1px 6px -1px rgba(0, 0, 0, 0.02);
  --dt-shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --dt-shadow-base: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
  --dt-shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  --dt-shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);

  // ==================== 间距 ====================
  --dt-spacing-xs: 4px;
  --dt-spacing-sm: 8px;
  --dt-spacing-md: 12px;
  --dt-spacing-lg: 16px;
  --dt-spacing-xl: 24px;
  --dt-spacing-2xl: 32px;

  // ==================== 过渡 ====================
  --dt-transition-fast: 0.15s;
  --dt-transition-base: 0.3s;
  --dt-transition-slow: 0.5s;

  --dt-ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
  --dt-ease-in: cubic-bezier(0.4, 0, 1, 1);
  --dt-ease-out: cubic-bezier(0, 0, 0.2, 1);

  // ==================== Z-index ====================
  --dt-z-index-dropdown: 1050;
  --dt-z-index-modal-backdrop: 1040;
  --dt-z-index-modal: 1050;
  --dt-z-index-tooltip: 1070;
}

// ============================================================================
// SCSS Variables (构建时使用)
// ============================================================================
$dt-primary: #1677ff;
$dt-primary-hover: #4096ff;
$dt-primary-active: #0958d9;
$dt-primary-light: rgba(22, 119, 255, 0.1);
$dt-primary-lighter: #e6f7ff;

$dt-success: #52c41a;
$dt-warning: #faad14;
$dt-error: #ff4d4f;

$dt-text-primary: #262626;
$dt-text-secondary: #595959;
$dt-text-tertiary: #8c8c8c;
$dt-text-placeholder: #bfbfbf;
$dt-text-disabled: #d9d9d9;

$dt-bg-white: #ffffff;
$dt-bg-base: #f0f2f5;
$dt-bg-hover: #f5f7fa;
$dt-bg-disabled: #f5f5f5;
$dt-bg-mask: rgba(0, 0, 0, 0.45);

$dt-border-light: #f0f0f0;
$dt-border-base: #d9d9d9;
$dt-border-dark: #bfbfbf;

$dt-radius-xs: 2px;
$dt-radius-sm: 4px;
$dt-radius-base: 6px;
$dt-radius-lg: 8px;
$dt-radius-xl: 12px;
$dt-radius-round: 50%;

$dt-shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.03), 0 1px 6px -1px rgba(0, 0, 0, 0.02);
$dt-shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
$dt-shadow-base: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 06);
$dt-shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
$dt-shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);

$dt-spacing-xs: 4px;
$dt-spacing-sm: 8px;
$dt-spacing-md: 12px;
$dt-spacing-lg: 16px;
$dt-spacing-xl: 24px;
$dt-spacing-2xl: 32px;

$dt-transition-fast: 0.15s;
$dt-transition-base: 0.3s;
$dt-transition-slow: 0.5s;

$dt-ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
$dt-ease-in: cubic-bezier(0.4, 0, 1, 1);
$dt-ease-out: cubic-bezier(0, 0, 0.2, 1);

$dt-z-index-dropdown: 1050;
$dt-z-index-modal-backdrop: 1040;
$dt-z-index-modal: 1050;
$dt-z-index-tooltip: 1070;
}

// ============================================================================
// 暗色主题
// ============================================================================
[data-theme='dark'] {
  --dt-text-primary: #e8e8e8;
  --dt-text-secondary: #b8b8b8;
  --dt-text-tertiary: #8c8c8c;
  --dt-bg-white: #1f1f1f;
  --dt-bg-base: #141414;
  --dt-bg-hover: #262626;
  --dt-border-base: #303030;
  --dt-border-dark: #404040;

  --dt-primary: #1677ff;
  --dt-primary-hover: #4096ff;
  --dt-primary-active: #0958d9;
}

// ============================================================================
// 个人资料弹窗容器
// ============================================================================
.dt-user-profile-dialog {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--dt-bg-mask);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: var(--dt-z-index-modal-backdrop);
  opacity: 0;
  pointer-events: none;
  
  &.visible {
    opacity: 1;
    pointer-events: auto;
    
    animation: dtFadeIn 0.3s dt-ease-out;
  }
}

// ============================================================================
// 个人资料卡容器
// ============================================================================
.dt-profile-card {
  background: var(--dt-bg-white);
  border-radius: var(--dt-radius-xl);
  box-shadow: var(--dt-shadow-lg);
  border: 1px solid var(--dt-border-base);
  max-width: 520px;
  width: 100%;
  padding: 40px;
  
  animation: dtSlideUp 0.4s dt-ease-out;
  transition: all var(--dt-transition-fast);
}

// ============================================================================
// 用户头像区域
// ============================================================================
.user-profile-avatar-section {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 24px;
  margin-bottom: 32px;
}

.avatar-container {
  position: relative;
  width: 100px;
  height: 100px;
  flex-shrink: 0;
  
  .avatar-image {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    border: 3px solid var(--dt-border-light);
    object-fit: cover;
    display: block;
    cursor: pointer;
    transition: all var(--dt-transition-fast);
    
    &:hover {
      transform: scale(1.02);
      box-shadow: var(--dt-shadow-md);
    }
  }
}

.online-status-ring {
  position: absolute;
  bottom: -2px;
  right: -2px;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: var(--dt-success);
  animation: dtPulse 2s ease-in-out infinite;
  opacity: 0.9;
}

@keyframes dtPulse {
  0%, 100% {
    opacity: 0.9;
  }
  50% {
    opacity: 1;
  }
}

// ============================================================================
// 用户基本信息区域
// ============================================================================
.user-basic-info {
  flex: 1;
  align-items: center;
  gap: 32px;
  margin-bottom: 32px;
  
  .info-item {
    flex: 1;
    min-width: 0;
    
    .info-label {
      font-size: 13px;
      color: var(--dt-text-secondary);
      margin-bottom: 4px;
      width: 70px;
      flex-shrink: 0;
    }
    
    .info-value {
      font-size: 14px;
      color: var(--dt-text-primary);
      font-weight: 500;
      word-break: break-all;
      width: 100%;
      flex-shrink: 0;
    }
  }
}

.user-name {
  font-size: 18px;
  font-weight: var(--dt-font-weight-semibold);
  color: var(--dt-text-primary);
  text-align: center;
  margin-bottom: 8px;
}

.user-id {
  font-size: 12px;
  color: var(--dt-text-tertiary);
  text-align: center;
}

// ============================================================================
// 联系方式区域
// ============================================================================
.contact-methods-section {
  margin-bottom: 32px;
  
  .section-title {
    font-size: 13px;
    font-weight: var(--dt-font-weight-medium);
    color: var(--dt-text-secondary);
    margin-bottom: 16px;
    display: flex;
    align-items: center;
    gap: 8px;
    
    .section-icon {
      color: var(--dt-primary);
      font-size: 16px;
    }
  }
  
  .contact-methods-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 16px;
  }
}

.contact-method-card {
  background: var(--dt-bg-light);
  border: 1px solid var(--dt-border-light);
  border-radius: var(--dt-radius-base);
  padding: 20px;
  text-align: center;
  transition: all var(--dt-transition-fast);
  cursor: pointer;
  
  &:hover {
    background: var(--dt-bg-white);
    border-color: var(--dt-primary);
    box-shadow: var(--dt-shadow-sm);
    transform: translateY(-4px);
  }
}

.method-icon {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 12px;
  border-radius: var(--dt-radius-base);
  background: var(--dt-bg-light);
  color: var(--dt-primary);
  
  .el-icon {
    font-size: 20px;
  }
}

.method-label {
  font-size: 14px;
  color: var(--dt-text-primary);
  font-weight: 500;
  margin-bottom: 8px;
}

.method-value {
  font-size: 12px;
  color: var(--dt-text-secondary);
}

// ============================================================================
// 内容统计区域
// ============================================================================
.content-stats-section {
  margin-bottom: 32px;
  
  .section-title {
    font-size: 13px;
    font-weight: var(--dt-font-weight-medium);
    color: var(--dt-text-secondary);
    margin-bottom: 16px;
    display: flex;
    align-items: center;
    gap: 8px;
    
    .section-icon {
      color: var(--dt-primary);
      font-size: 16px;
    }
  }
  
  .stats-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 16px;
  }
}

.stat-card {
  background: var(--dt-bg-light);
  border: 1px solid var(--dt-border-light);
  border-radius: var(--dt-radius-base);
  padding: 20px;
  text-align: center;
  transition: all var(--dt-transition-fast);
  cursor: pointer;
  
  &:hover {
    background: var(--dt-bg-white);
    border-color: var(--dt-primary);
    box-shadow: var(--dt-shadow-sm);
    transform: translateY(-2px);
  }
}

.stat-icon {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 12px;
  
  .el-icon {
    font-size: 20px;
  }
}

.stat-count {
  font-size: 28px;
  font-weight: var(--dt-font-weight-bold);
  color: var(--dt-text-primary);
  margin-bottom: 4px;
}

.stat-label {
  font-size: 12px;
  color: var(--dt-text-secondary);
}

// ============================================================================
// 操作按钮区域
// ============================================================================
.action-buttons-section {
  display: flex;
  flex-direction: column;
  gap: 12px;
  align-items: stretch;
  
  .primary-actions {
    display: flex;
    gap: 12px;
    
    .action-btn {
      flex: 1;
      min-width: 140px;
      padding: 12px 24px;
      background: var(--dt-primary);
      border: none;
      border-radius: var(--dt-radius-base);
      color: var(--dt-bg-white);
      font-size: 14px;
      font-weight: var(--dt-font-weight-medium);
      cursor: pointer;
      transition: all var(--dt-transition-fast);
      display: flex;
      align-items: center;
      gap: 8px;
      
      &:hover {
        background: var(--dt-primary-hover);
        transform: translateY(-2px);
        box-shadow: var(--dt-shadow-sm);
      }
      
      .el-icon {
        font-size: 18px;
      }
    }
  }
  
  .secondary-actions {
    display: flex;
    gap: 12px;
    
    .action-btn {
      flex: 1;
      min-width: 100px;
      padding: 12px 24px;
      background: transparent;
      border: 1px solid var(--dt-border-base);
      border-radius: var(--dt-radius-base);
      color: var(--dt-text-secondary);
      font-size: 14px;
      font-weight: var(--dt-font-weight-medium);
      cursor: pointer;
      transition: all var(--dt-transition-fast);
      display: flex;
      align-items: center;
      gap: 8px;
      
      &:hover {
        background: var(--dt-bg-hover);
        border-color: var(--dt-primary);
        transform: translateY(-2px);
      }
      
      .el-icon {
        font-size: 18px;
      }
    }
  }
}

// ============================================================================
// 动画定义
// ============================================================================

// 弹窗淡入动画
@keyframes dtFadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

// 卡片上滑动画
@keyframes dtSlideUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

// ============================================================================
// 响应式设计
// ============================================================================

// 移动端适配
@media (max-width: 768px) {
  .dt-profile-card {
    max-width: 90%;
    padding: 32px 20px;
  }
  
  .avatar-container {
    width: 80px;
    height: 80px;
  }
  
  .user-name {
    font-size: 16px;
  }
  
  .contact-methods-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
  }
  
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
  }
  
  .stat-card {
    padding: 16px;
    
    .stat-icon {
      width: 32px;
      height: 32px;
    }
  }
}

// 平板适配
@media (min-width: 769px) and (max-width: 1024px) {
  .dt-profile-card {
    max-width: 75%;
  }
  
  .avatar-container {
    width: 90px;
    height: 90px;
  }
  
  .user-name {
    font-size: 17px;
  }
}

// 桌面适配
@media (min-width: 1025px) {
  .dt-profile-card {
    max-width: 60%;
  }
  
  .avatar-container {
    width: 100px;
    height: 100px;
  }
}
