// DingTalk-inspired Theme Variables and Mixins
// 钉钉风格主题变量和混合宏

@use 'sass:color';

// ============ Colors ============
// 主色系（钉钉6.5.x）
$primary-color: #1677ff;
$primary-color-light: #e8f3ff;
$primary-color-lighter: #f0f9ff;
$primary-color-dark: #0f62d9;

// 功能色
$success-color: #52c41a;
$warning-color: #faad14;
$error-color: #f5222d;
$info-color: #1890ff;

// 中性色
$text-primary: #262626;
$text-secondary: #595959;
$text-tertiary: #8c8c8c;
$text-placeholder: #bfbfbf;
$text-regular: #595959;
$text-disabled: #d9d9d9;

$bg-white: #ffffff;
$bg-light: #fafafa;
$bg-base: #f0f2f5;
$bg-hover: #f5f5f5;
$bg-disabled: #f5f5f5;
$bg-mask: rgba(0, 0, 0, 0.45);

$border-light: #f0f0f0;
$border-base: #d9d9d9;
$border-dark: #bfbfbf;

// ============ Navigation Rail ============
$topbar-height: 48px; // 顶部导航栏高度
$nav-sidebar-width: 64px; // 左侧导航栏宽度（折叠状态）
$nav-sidebar-expanded-width: 192px; // 左侧导航栏宽度（展开状态）
$nav-item-height: 48px; // 导航项高度
$nav-icon-size: 20px; // 导航图标尺寸
$sidebar-width: 240px; // 中间会话列表宽度
$session-item-height: 64px; // 会话列表项高度
$session-avatar-size: 40px; // 会话头像尺寸
$detail-panel-width: 300px; // 详情面板宽度

// 别名（保持兼容性）
$nav-rail-width: $nav-sidebar-width;
$nav-rail-expanded-width: $nav-sidebar-expanded-width;

// 钉钉6.5.x风格的颜色
$nav-bg: #FFFFFF; // 左侧导航栏背景（浅色）
$nav-border: #F0F0F0; // 左侧导航栏边框
$nav-item-hover: #F5F5F5; // 导航项悬停背景色
$nav-item-active: #E8F3FF; // 激活导航项背景色
$nav-item-text: #333333; // 导航项文本颜色（未选中）
$nav-item-icon: #8C8C8C; // 导航项图标颜色（未选中）
$nav-item-text-active: #1677FF; // 导航项文本颜色（选中）
$nav-item-icon-active: #1677FF; // 导航项图标颜色（选中）
$topbar-bg: #FFFFFF; // 顶部导航栏背景
$topbar-border: #E6E6E6; // 顶部导航栏边框
$sidebar-bg: #F5F5F5; // 中间会话列表背景
$chat-bg: #F5F5F5; // 右侧聊天区域背景
$active-session-bg: #E8F3FF; // 活跃会话背景
$primary-hover: #F0F9FF; // 悬停状态背景色

// ============ Spacing ============
$spacing-xs: 4px;
$spacing-sm: 8px;
$spacing-md: 12px;
$spacing-lg: 16px;
$spacing-xl: 24px;
$spacing-2xl: 32px;

// ============ Typography ============
$font-size-xs: 12px;
$font-size-sm: 13px;
$font-size-base: 14px;
$font-size-lg: 16px;
$font-size-xl: 18px;
$font-size-2xl: 20px;

$font-weight-light: 300;
$font-weight-normal: 400;
$font-weight-medium: 500;
$font-weight-semibold: 600;
$font-weight-bold: 700;

$line-height-tight: 1.2;
$line-height-base: 1.5;
$line-height-relaxed: 1.75;

// ============ Border Radius ============
$border-radius-xs: 2px;
$border-radius-sm: 4px;
$border-radius-base: 6px;
$border-radius-lg: 8px;
$border-radius-xl: 12px;
$border-radius-round: 50%;

// ============ Shadows ============
$shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.03), 0 1px 6px -1px rgba(0, 0, 0, 0.02), 0 2px 4px 0 rgba(0, 0, 0, 0.02);
$shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
$shadow-base: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
$shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
$shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
$shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);

// ============ Transitions ============
$transition-base: 0.3s;
$transition-fast: 0.15s;
$transition-slow: 0.5s;

$ease-base: cubic-bezier(0.4, 0, 0.2, 1);
$ease-in: cubic-bezier(0.4, 0, 1, 1);
$ease-out: cubic-bezier(0, 0, 0.2, 1);
$ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);

// ============ Breakpoints ============
$breakpoint-xs: 480px;
$breakpoint-sm: 576px;
$breakpoint-md: 768px;
$breakpoint-lg: 992px;
$breakpoint-xl: 1200px;
$breakpoint-2xl: 1600px;

// ============ Header ============
$header-height-mobile: 56px;

// ============ Z-index ============
$z-index-dropdown: 1050;
$z-index-sticky: 1020;
$z-index-fixed: 1030;
$z-index-modal-backdrop: 1040;
$z-index-modal: 1050;
$z-index-popover: 1060;
$z-index-tooltip: 1070;

// ============ Mixins ============

// 文本省略号
@mixin text-ellipsis {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

// 多行文本省略
@mixin text-ellipsis-multi($lines: 2) {
  display: -webkit-box;
  -webkit-line-clamp: $lines;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

// 自定义滚动条
@mixin custom-scrollbar($width: 6px, $color: $border-base) {
  &::-webkit-scrollbar {
    width: $width;
    height: $width;
  }

  &::-webkit-scrollbar-track {
    background: transparent;
  }

  &::-webkit-scrollbar-thumb {
    background: $color;
    border-radius: $border-radius-base;
    transition: background $transition-base $ease-base;

    &:hover {
      background: color.scale($color, $lightness: -10%);
    }
  }
}

// Flex 居中
@mixin flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

// Flex 列
@mixin flex-column {
  display: flex;
  flex-direction: column;
}

// Flex 行
@mixin flex-row {
  display: flex;
  flex-direction: row;
}

// 绝对居中
@mixin absolute-center {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

// 响应式字体
@mixin responsive-font($mobile, $tablet, $desktop) {
  font-size: $mobile;

  @media (min-width: $breakpoint-md) {
    font-size: $tablet;
  }

  @media (min-width: $breakpoint-lg) {
    font-size: $desktop;
  }
}

// 响应式间距
@mixin responsive-padding($mobile, $tablet, $desktop) {
  padding: $mobile;

  @media (min-width: $breakpoint-md) {
    padding: $tablet;
  }

  @media (min-width: $breakpoint-lg) {
    padding: $desktop;
  }
}

// 响应式宽度
@mixin responsive-width($mobile, $tablet, $desktop) {
  width: $mobile;

  @media (min-width: $breakpoint-md) {
    width: $tablet;
  }

  @media (min-width: $breakpoint-lg) {
    width: $desktop;
  }
}

// 按钮基础样式
@mixin button-base {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: $spacing-sm $spacing-md;
  border-radius: $border-radius-base;
  border: none;
  cursor: pointer;
  font-size: $font-size-base;
  font-weight: $font-weight-medium;
  transition: all $transition-base $ease-base;
  user-select: none;

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
}

// 卡片样式
@mixin card {
  background: $bg-white;
  border-radius: $border-radius-lg;
  box-shadow: $shadow-base;
  padding: $spacing-lg;
  transition: all $transition-base $ease-base;

  &:hover {
    box-shadow: $shadow-md;
  }
}

// 输入框基础样式
@mixin input-base {
  width: 100%;
  padding: $spacing-sm $spacing-md;
  border: 1px solid $border-base;
  border-radius: $border-radius-base;
  font-size: $font-size-base;
  transition: all $transition-base $ease-base;

  &:hover {
    border-color: $primary-color;
  }

  &:focus {
    outline: none;
    border-color: $primary-color;
    box-shadow: 0 0 0 2px rgba($primary-color, 0.2);
  }

  &:disabled {
    background: $bg-disabled;
    cursor: not-allowed;
  }
}

// 渐变背景
@mixin gradient-bg($from, $to, $direction: 135deg) {
  background: linear-gradient($direction, $from 0%, $to 100%);
}

// 玻璃态效果
@mixin glass-effect($opacity: 0.8) {
  background: rgba(255, 255, 255, $opacity);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

// 动画延迟
@mixin animation-delay($delay) {
  animation-delay: $delay;
}

// 过渡延迟
@mixin transition-delay($delay) {
  transition-delay: $delay;
}

// 点击缩放效果
@mixin click-scale($scale: 0.95) {
  &:active {
    transform: scale($scale);
  }
}

// 响应式媒体查询
@mixin respond-to($breakpoint) {
  @if $breakpoint == xs {
    @media (max-width: $breakpoint-xs) {
      @content;
    }
  } @else if $breakpoint == sm {
    @media (min-width: $breakpoint-sm) {
      @content;
    }
  } @else if $breakpoint == md {
    @media (min-width: $breakpoint-md) {
      @content;
    }
  } @else if $breakpoint == lg {
    @media (min-width: $breakpoint-lg) {
      @content;
    }
  } @else if $breakpoint == xl {
    @media (min-width: $breakpoint-xl) {
      @content;
    }
  } @else if $breakpoint == 2xl {
    @media (min-width: $breakpoint-2xl) {
      @content;
    }
  }
}

// ============ Global Styles ============

* {
  box-sizing: border-box;
}

html,
body {
  margin: 0;
  padding: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans',
    'Droid Sans', 'Helvetica Neue', sans-serif;
  font-size: $font-size-base;
  line-height: $line-height-base;
  color: $text-primary;
  background: $bg-light;
}

// ============ Animations ============

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideInUp {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes slideInDown {
  from {
    transform: translateY(-20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes slideInLeft {
  from {
    transform: translateX(-20px);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes slideInRight {
  from {
    transform: translateX(20px);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes pulse {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

@keyframes bounce {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
