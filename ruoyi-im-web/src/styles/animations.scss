/**
 * 动画和交互效果样式库
 * 提供 RuoYi-IM 项目中使用的统一动画效果
 *
 * @usage
 * 在组件中引入：@use '@/styles/animations.scss' as *;
 * 或通过全局样式自动加载
 */

@use 'design-tokens.scss' as *;

// ============================================================================
// 缓动函数 (Easing Functions)
// ============================================================================

$ease-out: cubic-bezier(0.23, 1, 0.32, 1);
$ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
$ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
$ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
$ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);

// ============================================================================
// 过渡时长 (Transition Durations)
// ============================================================================

$duration-instant: 100ms;
$duration-fast: 150ms;
$duration-base: 250ms;
$duration-medium: 350ms;
$duration-slow: 500ms;
$duration-slower: 750ms;

// ============================================================================
// 淡入淡出动画 (Fade Animations)
// ============================================================================

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeInDown {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeInLeft {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes fadeInRight {
  from {
    opacity: 0;
    transform: translateX(20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

// ============================================================================
// 缩放动画 (Scale Animations)
// ============================================================================

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes scaleOut {
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(0.9);
  }
}

@keyframes scaleInBounce {
  0% {
    opacity: 0;
    transform: scale(0);
  }
  50% {
    transform: scale(1.05);
  }
  70% {
    transform: scale(0.95);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

// ============================================================================
// 滑动动画 (Slide Animations)
// ============================================================================

@keyframes slideInUp {
  from {
    transform: translateY(100%);
  }
  to {
    transform: translateY(0);
  }
}

@keyframes slideInDown {
  from {
    transform: translateY(-100%);
  }
  to {
    transform: translateY(0);
  }
}

@keyframes slideInLeft {
  from {
    transform: translateX(-100%);
  }
  to {
    transform: translateX(0);
  }
}

@keyframes slideInRight {
  from {
    transform: translateX(100%);
  }
  to {
    transform: translateX(0);
  }
}

// ============================================================================
// 旋转动画 (Rotate Animations)
// ============================================================================

@keyframes rotate {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes rotateIn {
  from {
    opacity: 0;
    transform: rotate(-180deg) scale(0);
  }
  to {
    opacity: 1;
    transform: rotate(0) scale(1);
  }
}

// ============================================================================
// 弹跳动画 (Bounce Animations)
// ============================================================================

@keyframes bounce {
  0%, 20%, 50%, 80%, 100% {
    transform: translateY(0);
  }
  40% {
    transform: translateY(-12px);
  }
  60% {
    transform: translateY(-6px);
  }
}

@keyframes bounceIn {
  0% {
    opacity: 0;
    transform: scale(0.3);
  }
  50% {
    transform: scale(1.05);
  }
  70% {
    transform: scale(0.9);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes bounceInDown {
  0% {
    opacity: 0;
    transform: translateY(-2000px);
  }
  60% {
    transform: translateY(20px);
  }
  80% {
    transform: translateY(-5px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes bounceInUp {
  0% {
    opacity: 0;
    transform: translateY(2000px);
  }
  60% {
    transform: translateY(-20px);
  }
  80% {
    transform: translateY(5px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

// ============================================================================
// 脉冲动画 (Pulse Animations)
// ============================================================================

@keyframes pulse {
  0% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.05);
    opacity: 0.8;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes pulseRing {
  0% {
    transform: scale(0.8);
    opacity: 0.8;
  }
  100% {
    transform: scale(2);
    opacity: 0;
  }
}

@keyframes shimmer {
  0% {
    background-position: -1000px 0;
  }
  100% {
    background-position: 1000px 0;
  }
}

// ============================================================================
// 抖动动画 (Shake Animations)
// ============================================================================

@keyframes shake {
  0%, 100% {
    transform: translateX(0);
  }
  10%, 30%, 50%, 70%, 90% {
    transform: translateX(-8px);
  }
  20%, 40%, 60%, 80% {
    transform: translateX(8px);
  }
}

@keyframes headShake {
  0% {
    transform: translateX(0);
  }
  6.5% {
    transform: translateX(-6px) rotateY(-9deg);
  }
  18.5% {
    transform: translateX(5px) rotateY(7deg);
  }
  31.5% {
    transform: translateX(-3px) rotateY(-5deg);
  }
  43.5% {
    transform: translateX(2px) rotateY(3deg);
  }
  50% {
    transform: translateX(0);
  }
}

// ============================================================================
// 打字机动画 (Typing Animations)
// ============================================================================

@keyframes typingBounce {
  0%, 80%, 100% {
    transform: scale(0.8);
    opacity: 0.5;
  }
  40% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes cursorBlink {
  0%, 50% {
    opacity: 1;
  }
  51%, 100% {
    opacity: 0;
  }
}

// ============================================================================
// 进度条动画 (Progress Animations)
// ============================================================================

@keyframes progressStripe {
  0% {
    background-position: 40px 0;
  }
  100% {
    background-position: 0 0;
  }
}

@keyframes progressFill {
  from {
    width: 0;
  }
}

// ============================================================================
// 加载动画 (Loading Animations)
// ============================================================================

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes doubleSpin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(720deg);
  }
}

@keyframes dotPulse {
  0%, 80%, 100% {
    transform: scale(0);
    opacity: 0.5;
  }
  40% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes dotWave {
  0%, 100% {
    transform: translateY(0);
  }
  25% {
    transform: translateY(-8px);
  }
}

// ============================================================================
// 消息动画 (Message Animations)
// ============================================================================

@keyframes messageSlideIn {
  from {
    opacity: 0;
    transform: translateY(20px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes messagePopIn {
  0% {
    opacity: 0;
    transform: scale(0.5);
  }
  70% {
    transform: scale(1.05);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

// ============================================================================
// 通知动画 (Notification Animations)
// ============================================================================

@keyframes notificationSlideIn {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes notificationSlideOut {
  from {
    transform: translateX(0);
    opacity: 1;
  }
  to {
    transform: translateX(100%);
    opacity: 0;
  }
}

@keyframes notificationBounce {
  0% {
    transform: translateX(100%) scale(0.3);
    opacity: 0;
  }
  50% {
    transform: translateX(-5%) scale(1.02);
    opacity: 1;
  }
  70% {
    transform: translateX(2%) scale(0.98);
  }
  100% {
    transform: translateX(0) scale(1);
  }
}

// ============================================================================
// 对话框动画 (Dialog Animations)
// ============================================================================

@keyframes dialogZoomIn {
  from {
    opacity: 0;
    transform: scale(0.9) translateY(-20px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

@keyframes dialogFadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes backdropFadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 0.5;
  }
}

// ============================================================================
// 抽屉动画 (Drawer Animations)
// ============================================================================

@keyframes drawerSlideInRight {
  from {
    transform: translateX(100%);
  }
  to {
    transform: translateX(0);
  }
}

@keyframes drawerSlideInLeft {
  from {
    transform: translateX(-100%);
  }
  to {
    transform: translateX(0);
  }
}

@keyframes drawerSlideInTop {
  from {
    transform: translateY(-100%);
  }
  to {
    transform: translateY(0);
  }
}

@keyframes drawerSlideInBottom {
  from {
    transform: translateY(100%);
  }
  to {
    transform: translateY(0);
  }
}

// ============================================================================
// 下拉菜单动画 (Dropdown Animations)
// ============================================================================

@keyframes dropdownSlideIn {
  from {
    opacity: 0;
    transform: translateY(-10px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes menuExpand {
  from {
    opacity: 0;
    height: 0;
  }
  to {
    opacity: 1;
    height: auto;
  }
}

// ============================================================================
// Tooltip 动画
// ============================================================================

@keyframes tooltipFadeIn {
  from {
    opacity: 0;
    transform: scale(0.8) translateY(4px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

// ============================================================================
// Ripple 效果 (Material Design)
// ============================================================================

@keyframes ripple {
  to {
    transform: scale(4);
    opacity: 0;
  }
}

// ============================================================================
// 页面切换动画 (Page Transitions)
// ============================================================================

@keyframes pageSlideIn {
  from {
    opacity: 0;
    transform: translateX(30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes pageSlideOut {
  from {
    opacity: 1;
    transform: translateX(0);
  }
  to {
    opacity: 0;
    transform: translateX(-30px);
  }
}

@keyframes pageFadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

// ============================================================================
// 列表项动画 (List Item Animations)
// ============================================================================

@keyframes listItemSlideIn {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes listItemFadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

// ============================================================================
// 卡片动画 (Card Animations)
// ============================================================================

@keyframes cardFlip {
  0% {
    transform: rotateY(0);
  }
  100% {
    transform: rotateY(180deg);
  }
}

@keyframes cardLift {
  0% {
    transform: translateY(0) scale(1);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }
  100% {
    transform: translateY(-8px) scale(1.02);
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
  }
}

// ============================================================================
// 徽章动画 (Badge Animations)
// ============================================================================

@keyframes badgePop {
  0% {
    transform: scale(0);
  }
  50% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1);
  }
}

@keyframes badgePulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.1);
  }
}

// 徽章脉冲（带阴影）- 用于带阴影效果的徽章
@keyframes badgePulseShadow {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
    box-shadow: 0 2px 8px rgba(255, 77, 79, 0.3);
  }
  50% {
    opacity: 0.85;
    transform: scale(1.08);
    box-shadow: 0 4px 12px rgba(255, 77, 79, 0.5);
  }
}

@keyframes badgeBounce {
  0%, 100% {
    transform: translateY(0);
  }
  25% {
    transform: translateY(-4px);
  }
  50% {
    transform: translateY(0);
  }
  75% {
    transform: translateY(-2px);
  }
}

// ============================================================================
// 按钮动画 (Button Animations)
// ============================================================================

@keyframes buttonRipple {
  to {
    transform: scale(2.5);
    opacity: 0;
  }
}

@keyframes buttonPress {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(0.95);
  }
  100% {
    transform: scale(1);
  }
}

// ============================================================================
// 输入框动画 (Input Animations)
// ============================================================================

@keyframes inputFocus {
  from {
    box-shadow: 0 0 0 0 rgba(var(--dt-brand-color-rgb, 22, 119, 255), 0);
  }
  to {
    box-shadow: 0 0 0 4px rgba(var(--dt-brand-color-rgb, 22, 119, 255), 0.1);
  }
}

// ============================================================================
// 头像动画 (Avatar Animations)
// ============================================================================

@keyframes avatarPop {
  0% {
    transform: scale(0);
    opacity: 0;
  }
  70% {
    transform: scale(1.1);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes avatarOnline {
  0% {
    transform: scale(0);
  }
  50% {
    transform: scale(1.3);
  }
  100% {
    transform: scale(1);
  }
}

// ============================================================================
// Tab 切换动画
// ============================================================================

@keyframes tabSlide {
  from {
    transform: translateX(-100%);
  }
  to {
    transform: translateX(0);
  }
}

@keyframes tabFade {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

// ============================================================================
// 搜索动画 (Search Animations)
// ============================================================================

@keyframes searchExpand {
  from {
    width: 40px;
  }
  to {
    width: 280px;
  }
}

@keyframes searchCollapse {
  from {
    width: 280px;
  }
  to {
    width: 40px;
  }
}

// ============================================================================
// 手势图标动画 (Gesture Icon Animations)
// ============================================================================

@keyframes like {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.3);
  }
  100% {
    transform: scale(1);
  }
}

@keyframes heartBeat {
  0% {
    transform: scale(1);
  }
  14% {
    transform: scale(1.3);
  }
  28% {
    transform: scale(1);
  }
  42% {
    transform: scale(1.3);
  }
  70% {
    transform: scale(1);
  }
}

// ============================================================================
// 实用动画类 (Animation Utility Classes)
// ============================================================================

.animated {
  animation-duration: 1s;
  animation-fill-mode: both;
}

.animated.infinite {
  animation-iteration-count: infinite;
}

.animated.hinge {
  animation-duration: 2s;
}

.animated.flip {
  backface-visibility: visible;
}

// 淡入
.fade-in {
  animation: fadeIn $duration-base $ease-out;
}

.fade-in-up {
  animation: fadeInUp $duration-base $ease-out;
}

.fade-in-down {
  animation: fadeInDown $duration-base $ease-out;
}

.fade-in-left {
  animation: fadeInLeft $duration-base $ease-out;
}

.fade-in-right {
  animation: fadeInRight $duration-base $ease-out;
}

// 缩放
.scale-in {
  animation: scaleIn $duration-base $ease-out;
}

.scale-in-bounce {
  animation: scaleInBounce $duration-slow $ease-bounce;
}

// 弹跳
.bounce {
  animation: bounce $duration-slower infinite;
}

.bounce-in {
  animation: bounceIn $duration-base $ease-out;
}

.bounce-in-down {
  animation: bounceInDown $duration-base $ease-out;
}

.bounce-in-up {
  animation: bounceInUp $duration-base $ease-out;
}

// 脉冲
.pulse {
  animation: pulse $duration-slow infinite;
}

// 旋转
.rotate {
  animation: rotate $duration-slower linear infinite;
}

// 抖动
.shake {
  animation: shake $duration-slow;
}

// 延迟类
.delay-100 { animation-delay: 100ms; }
.delay-200 { animation-delay: 200ms; }
.delay-300 { animation-delay: 300ms; }
.delay-400 { animation-delay: 400ms; }
.delay-500 { animation-delay: 500ms; }

// 快速类
.fast {
  animation-duration: $duration-fast;
}

.slow {
  animation-duration: $duration-slow;
}

// ============================================================================
// 消息动画专用类 (Message Animation Classes)
// ============================================================================

.message-slide-elastic {
  animation: messageSlideInElastic 0.4s $ease-spring;
}

.message-fade-slide {
  animation: messageFadeSlideIn 0.3s $ease-out;
}

.message-pop-in {
  animation: messagePop 0.3s var(--dt-ease-bounce);
}

// ============================================================================
// 过渡工具类 (Transition Utility Classes)
// ============================================================================

.transition-all {
  transition: all $duration-base $ease-out;
}

.transition-transform {
  transition: transform $duration-base $ease-out;
}

.transition-opacity {
  transition: opacity $duration-base $ease-out;
}

.transition-colors {
  transition: color $duration-base $ease-out,
              background-color $duration-base $ease-out,
              border-color $duration-base $ease-out;
}

.transition-width {
  transition: width $duration-base $ease-out;
}

.transition-height {
  transition: height $duration-base $ease-out;
}

// ============================================================================
// 悬停效果类 (Hover Effect Classes)
// ============================================================================

.hover-lift {
  transition: transform $duration-base $ease-out,
              box-shadow $duration-base $ease-out;

  &:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.12);
  }
}

.hover-scale {
  transition: transform $duration-base $ease-out;

  &:hover {
    transform: scale(1.05);
  }
}

.hover-shrink {
  transition: transform $duration-base $ease-out;

  &:hover {
    transform: scale(0.95);
  }
}

.hover-glow {
  transition: box-shadow $duration-base $ease-out;

  &:hover {
    box-shadow: 0 0 20px rgba(0, 137, 255, 0.4);
  }
}

.hover-brighten {
  transition: filter $duration-base $ease-out;

  &:hover {
    filter: brightness(1.1);
  }
}

// ============================================================================
// 加载状态类 (Loading State Classes)
// ============================================================================

.is-loading {
  position: relative;
  pointer-events: none;
  opacity: 0.6;

  &::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 20px;
    height: 20px;
    margin: -10px 0 0 -10px;
    border: 2px solid var(--dt-border-color);
    border-top-color: var(--dt-brand-color);
    border-radius: 50%;
    animation: spin $duration-slow linear infinite;
  }
}

// 骨架屏效果
.skeleton {
  background: linear-gradient(
    90deg,
    var(--dt-bg-tertiary) 0%,
    var(--dt-bg-hover) 50%,
    var(--dt-bg-tertiary) 100%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}

// ============================================================================
// 微交互动画类 (Micro-interaction Classes)
// ============================================================================

.click-animate {
  &:active {
    animation: buttonPress $duration-fast $ease-out;
  }
}

.ripple-effect {
  position: relative;
  overflow: hidden;

  &::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.4);
    transform: translate(-50%, -50%);
    opacity: 0;
    pointer-events: none;
  }

  &:active::after {
    animation: ripple 0.6s $ease-out;
  }
}

// ============================================================================
// 通用脉冲动画变体 (Pulse Animation Variants)
// 用于替代各组件中重复的 pulse 动画定义
// ============================================================================

// 图标脉冲 - 用于在线状态、操作指示器等
@keyframes iconPulse {
  0%, 100% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.15);
    opacity: 0.85;
  }
}

// 光晕脉冲 - 用于强调效果
@keyframes glowPulse {
  0%, 100% {
    box-shadow: 0 0 5px rgba(0, 137, 255, 0.3);
  }
  50% {
    box-shadow: 0 0 20px rgba(0, 137, 255, 0.6);
  }
}

// 徽章脉冲 - 用于通知徽章
@keyframes urgentBadgePulse {
  0%, 100% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(244, 67, 54, 0.7);
  }
  50% {
    transform: scale(1.05);
    box-shadow: 0 0 0 8px rgba(244, 67, 54, 0);
  }
}

// 选中脉冲 - 用于多选状态
@keyframes selectionPulse {
  0%, 100% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.2);
    opacity: 0.8;
  }
}

// 头像脉冲 - 用于通话状态
@keyframes avatarPulse {
  0% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(0, 137, 255, 0.7);
  }
  70% {
    transform: scale(1.05);
    box-shadow: 0 0 0 10px rgba(0, 137, 255, 0);
  }
  100% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(0, 137, 255, 0);
  }
}

// 背景脉冲 - 用于加载状态
@keyframes bgPulse {
  0%, 100% {
    background-color: rgba(0, 137, 255, 0.05);
  }
  50% {
    background-color: rgba(0, 137, 255, 0.15);
  }
}

// 浮动脉冲 - 用于提示动画
@keyframes floatPulse {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-4px);
  }
}

// 指示器脉冲 - 用于输入状态
@keyframes indicatorPulse {
  0%, 80%, 100% {
    transform: scale(0.8);
    opacity: 0.5;
  }
  40% {
    transform: scale(1);
    opacity: 1;
  }
}

// 按钮脉冲 - 用于CTA按钮
@keyframes buttonPulse {
  0% {
    box-shadow: 0 0 0 0 rgba(0, 137, 255, 0.7);
  }
  70% {
    box-shadow: 0 0 0 10px rgba(0, 137, 255, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(0, 137, 255, 0);
  }
}

// 在线状态脉冲
@keyframes onlinePulse {
  0% {
    box-shadow: 0 0 0 0 rgba(76, 175, 80, 0.7);
  }
  70% {
    box-shadow: 0 0 0 6px rgba(76, 175, 80, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(76, 175, 80, 0);
  }
}

// 打字状态脉冲
@keyframes typingPulse {
  0%, 60%, 100% {
    transform: translateY(0);
  }
  30% {
    transform: translateY(-4px);
  }
}

// 长按脉冲
@keyframes longPressPulse {
  0% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(0, 137, 255, 0.4);
  }
  50% {
    transform: scale(1.02);
    box-shadow: 0 0 0 8px rgba(0, 137, 255, 0);
  }
  100% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(0, 137, 255, 0);
  }
}

// 高亮脉冲 - 用于消息高亮
@keyframes highlightPulse {
  0% {
    background-color: rgba(0, 137, 255, 0.2);
  }
  100% {
    background-color: transparent;
  }
}

// 紧急状态脉冲
@keyframes urgentPulse {
  0%, 100% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(244, 67, 54, 0.7);
  }
  50% {
    transform: scale(1.08);
    box-shadow: 0 0 0 12px rgba(244, 67, 54, 0);
  }
}

// AI 脉冲 - 用于AI相关动画
@keyframes aiPulse {
  0%, 100% {
    transform: scale(1);
    filter: drop-shadow(0 0 4px rgba(103, 58, 183, 0.4));
  }
  50% {
    transform: scale(1.05);
    filter: drop-shadow(0 0 12px rgba(103, 58, 183, 0.8));
  }
}

// 循环脉冲动画类
.pulse-icon {
  animation: iconPulse 2s ease-in-out infinite;
}

.pulse-glow {
  animation: glowPulse 2s ease-in-out infinite;
}

.pulse-badge {
  animation: urgentBadgePulse 2s ease-in-out infinite;
}

.pulse-avatar {
  animation: avatarPulse 2s ease-in-out infinite;
}

.pulse-button {
  animation: buttonPulse 2s ease-in-out infinite;
}

.pulse-online {
  animation: onlinePulse 2s ease-in-out infinite;
}

.pulse-urgent {
  animation: urgentPulse 1.5s ease-in-out infinite;
}

.pulse-ai {
  animation: aiPulse 2s ease-in-out infinite;
}

// ============================================================================
// 通话组件专用动画 (Call Component Animations)
// ============================================================================

// 呼叫背景脉冲 - 用于通话背景光晕
@keyframes callGlowPulse {
  0%, 100% {
    opacity: 0.6;
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(1.2);
  }
}

// 通话背景脉冲（带位移）- 用于 VoiceCallDialog
@keyframes callBgPulse {
  0%, 100% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 0.1;
  }
  50% {
    transform: translate(-50%, -50%) scale(1.1);
    opacity: 0.15;
  }
}

// 通话头像脉冲（阴影变化）- 用于通话中的头像
@keyframes callAvatarPulse {
  0%, 100% {
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  }
  50% {
    box-shadow: 0 8px 48px rgba(0, 137, 255, 0.4);
  }
}

// 视频通话头像脉冲（更深阴影）
@keyframes videoAvatarPulse {
  0%, 100% {
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
  }
  50% {
    box-shadow: 0 8px 48px rgba(0, 137, 255, 0.6);
  }
}

// 指示器脉冲（点状）- 用于加载指示器
@keyframes dotIndicatorPulse {
  0%, 100% {
    transform: scale(1);
    opacity: 0.5;
  }
  50% {
    transform: scale(1.2);
    opacity: 1;
  }
}

// 点脉冲（带位移）- 用于加载状态指示器
@keyframes dotPulseTranslate {
  0%, 100% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 0.5;
  }
  50% {
    transform: translate(-50%, -50%) scale(1.3);
    opacity: 1;
  }
}

// 环形脉冲 - 用于环形扩散效果
@keyframes ringPulse {
  0% {
    transform: translate(-50%, -50%) scale(0.8);
    opacity: 0;
  }
  50% {
    opacity: 0.3;
  }
  100% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 0;
  }
}

// 优先级脉冲 - 用于优先级标记
@keyframes priorityPulse {
  0%, 100% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.1);
    opacity: 0.9;
  }
}

// 优先级脉冲（强缩放）- 用于优先级指示器
@keyframes priorityPulseStrong {
  0%, 100% {
    opacity: 0.4;
    transform: scale(1);
  }
  50% {
    opacity: 0.6;
    transform: scale(1.5);
  }
}

// 统计图标脉冲 - 用于统计数字动画
@keyframes statIconPulse {
  0%, 100% {
    transform: scale(1) rotate(0deg);
  }
  25% {
    transform: scale(1.1) rotate(5deg);
  }
  75% {
    transform: scale(1.1) rotate(-5deg);
  }
}

// 图标光晕脉冲 - 用于图标光晕效果
@keyframes iconGlowPulse {
  0%, 100% {
    transform: scale(1);
    opacity: 0.3;
  }
  50% {
    transform: scale(1.2);
    opacity: 0.5;
  }
}

// 紧急光晕 - 用于紧急状态光晕
@keyframes urgentGlow {
  0%, 100% {
    transform: scale(1);
    opacity: 0.4;
  }
  50% {
    transform: scale(1.3);
    opacity: 0.6;
  }
}

// 菜单淡入 - 用于菜单弹出动画
@keyframes menuFadeIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

// AI 脉冲（紫色阴影）- 用于 AI 功能指示器
@keyframes aiPulsePurple {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(147, 51, 234, 0);
  }
  50% {
    box-shadow: 0 0 0 4px rgba(147, 51, 234, 0.2);
  }
}

// 高亮脉冲（背景色）- 用于消息高亮
@keyframes highlightPulseBg {
  0%, 100% {
    background: transparent;
  }
  50% {
    background: var(--dt-brand-bg);
  }
}

// 消息高亮闪烁（3次黄色闪烁）- 用于引用消息跳转
@keyframes messageHighlightFlash {
  0%, 100% { background: transparent; }
  16.67% { background: rgba(255, 235, 59, 0.4); } // 第1次亮
  33.33% { background: transparent; }
  50% { background: rgba(255, 235, 59, 0.4); } // 第2次亮
  66.67% { background: transparent; }
  83.33% { background: rgba(255, 235, 59, 0.4); } // 第3次亮
}

// 按钮微脉冲（缩放）- 用于按钮微动画
@keyframes buttonMicroPulse {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
  100% {
    transform: scale(1);
  }
}

// 下拉淡入（带阴影）- 用于下拉菜单
@keyframes dropdownFadeInShadow {
  from {
    opacity: 0;
    transform: translateY(-8px);
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  }
  to {
    opacity: 1;
    transform: translateY(0);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
  }
}

// 结果淡入 - 用于搜索结果
@keyframes resultFadeInSlide {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

// 分类切换 - 用于标签切换
@keyframes categorySwitchSlide {
  from {
    opacity: 0;
    transform: translateX(-10px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

// 对话框淡入（带位移）- 用于对话框弹出
@keyframes dialogFadeInSlide {
  from {
    opacity: 0;
    transform: scale(0.95) translateY(-10px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

// 消息弹出 - 用于消息入场
@keyframes messagePop {
  0% {
    opacity: 0;
    transform: scale(0.9) translateY(10px);
  }
  100% {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

// 消息弹性滑入 - 用于新发送消息的弹性动画（对齐钉钉）
@keyframes messageSlideInElastic {
  0% {
    opacity: 0;
    transform: translateY(24px) scale(0.92);
  }
  60% {
    opacity: 1;
    transform: translateY(-2px) scale(1.01);
  }
  80% {
    transform: translateY(1px) scale(0.99);
  }
  100% {
    transform: translateY(0) scale(1);
  }
}

// 消息淡入滑入 - 适用于接收消息
@keyframes messageFadeSlideIn {
  0% {
    opacity: 0;
    transform: translateY(12px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

// 长按脉冲 - 用于长按状态反馈
@keyframes longPressPulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.01); }
  100% { transform: scale(1); }
}

// 图标脉冲（渐隐）- 用于图标指示器
@keyframes iconPulseFade {
  0%, 100% {
    transform: scale(1);
    opacity: 0.5;
  }
  50% {
    transform: scale(1.3);
    opacity: 0;
  }
}

// 图标脉冲（微弱）- 用于弱提示效果
@keyframes iconPulseWeak {
  0%, 100% {
    transform: scale(1);
    opacity: 0.2;
  }
  50% {
    transform: scale(1.2);
    opacity: 0.3;
  }
}

// 呼叫环形脉冲 - 用于呼叫状态
@keyframes callRingPulse {
  0%, 100% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.2);
    opacity: 0.5;
  }
}

// 呼叫图标脉冲（不透明度变化）
@keyframes callIconPulse {
  0%, 100% {
    opacity: 0.6;
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(1.1);
  }
}

// ============================================================================
// SVG 特定动画 (SVG-specific Animations)
// ============================================================================

// SVG 描边旋转 - 用于 SVG stroke-dashoffset 动画（如进度环）
// 与常规 rotate 不同，这是通过描边偏移实现的旋转效果
@keyframes spinSvgStroke {
  from {
    stroke-dashoffset: 100;
  }
  to {
    stroke-dashoffset: 0;
  }
}
