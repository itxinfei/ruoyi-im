// Design Tokens - DingTalk Style
:root {
  // === Brand Colors ===
  // 更新为 stitch_im 设计的颜色
  --dt-brand-color: #1677ff;
  --dt-brand-hover: #4096ff;
  --dt-brand-active: #0958d9;
  --dt-brand-bg: #e6f4ff;
  --dt-brand-light: rgba(22, 119, 255, 0.1);

  // === Semantic Colors ===
  --dt-success-color: #52c41a;
  --dt-warning-color: #faad14;
  --dt-error-color: #ff4d4f;
  --dt-danger-color: #f5222d;
  --dt-badge-color: #f5222d;

  // === Background Colors (亮色模式) ===
  --dt-bg-body: #f4f7f9;
  --dt-bg-sidebar: #1677ff;
  --dt-bg-sidebar-item: transparent;
  --dt-bg-sidebar-item-hover: rgba(255, 255, 255, 0.1);
  --dt-bg-sidebar-item-active: rgba(255, 255, 255, 0.2);
  --dt-bg-session-list: #ffffff;
  --dt-bg-chat: #f5f7fa;
  --dt-bg-session-hover: #f2f3f5;
  --dt-bg-session-active: #ebf4ff;
  --dt-bg-input: #ffffff;
  --dt-bg-card: #ffffff;

  // === Text Colors ===
  --dt-text-primary: #0f172a;
  --dt-text-secondary: #475569;
  --dt-text-tertiary: #94a3b8;
  --dt-text-placeholder: #bfbfbf;
  --dt-text-disabled: #d9d9d9;

  // 暗色模式变量
  --dt-bg-body-dark: #0f172a;
  --dt-bg-sidebar-dark: #1e293b;
  --dt-bg-card-dark: #1e293b;
  --dt-bg-input-dark: #334155;
  --dt-text-primary-dark: #f1f5f9;
  --dt-text-secondary-dark: #cbd5e1;
  --dt-border-dark: #334155;

  // === Border Colors ===
  --dt-border-color: #e5e7eb;
  --dt-border-light: #f0f0f0;
  --dt-border-dark: #d9d9d9;

  // === Typography ===
  --dt-font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI',
                   'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei',
                   'Helvetica Neue', Helvetica, Arial, sans-serif;
  --dt-font-size-xs: 11px;
  --dt-font-size-sm: 12px;
  --dt-font-size-base: 14px;
  --dt-font-size-md: 15px;
  --dt-font-size-lg: 16px;
  --dt-font-size-xl: 18px;
  --dt-font-size-xxl: 20px;
  --dt-font-weight-normal: 400;
  --dt-font-weight-medium: 500;
  --dt-font-weight-semibold: 600;
  --dt-font-weight-bold: 700;
  --dt-line-height-tight: 1.2;
  --dt-line-height-base: 1.5;
  --dt-line-height-loose: 1.75;

  // === Spacing (4px base unit) ===
  --dt-space-xs: 4px;
  --dt-space-sm: 8px;
  --dt-space-md: 12px;
  --dt-space-lg: 16px;
  --dt-space-xl: 24px;
  --dt-space-xxl: 32px;
  --dt-space-xxxl: 48px;

  // === Layout Dimensions ===
  --dt-nav-sidebar-width: 80px;
  --dt-session-panel-width: 280px;
  --dt-header-height: 48px;
  --dt-chat-header-height: 56px;
  --dt-chat-input-height: 56px;
  --dt-nav-item-height: 48px;
  --dt-session-item-height: 64px;

  // === Component Sizes ===
  --dt-avatar-size-sm: 32px;
  --dt-avatar-size: 48px;
  --dt-avatar-size-lg: 64px;
  --dt-btn-height-md: 36px;
  --dt-btn-height-lg: 40px;
  --dt-message-max-width: 480px;

  // === Border Radius ===
  --dt-radius-sm: 4px;
  --dt-radius-md: 8px;
  --dt-radius-lg: 12px;
  --dt-radius-full: 50%;

  // === Shadows ===
  --dt-shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
  --dt-shadow-md: 0 2px 8px rgba(0, 0, 0, 0.1);
  --dt-shadow-lg: 0 4px 16px rgba(0, 0, 0, 0.15);

  // === Transitions ===
  --dt-transition-fast: 0.15s ease;
  --dt-transition-base: 0.3s ease;
  --dt-transition-slow: 0.5s ease;

  // === Z-Index ===
  --dt-z-dropdown: 1000;
  --dt-z-sticky: 1020;
  --dt-z-fixed: 1030;
  --dt-z-modal: 1040;
  --dt-z-popover: 1050;
  --dt-z-tooltip: 1060;
  --dt-z-notification: 1070;
}

// 暗色模式覆盖
.dark {
  --dt-bg-body: var(--dt-bg-body-dark);
  --dt-bg-sidebar: var(--dt-bg-sidebar-dark);
  --dt-bg-session-list: var(--dt-bg-card-dark);
  --dt-bg-chat: var(--dt-bg-body-dark);
  --dt-bg-session-hover: rgba(255, 255, 255, 0.05);
  --dt-bg-session-active: rgba(22, 119, 255, 0.15);
  --dt-bg-input: var(--dt-bg-input-dark);
  --dt-bg-card: var(--dt-bg-card-dark);

  --dt-text-primary: var(--dt-text-primary-dark);
  --dt-text-secondary: var(--dt-text-secondary-dark);
  --dt-text-placeholder: #64748b;

  --dt-border-color: var(--dt-border-dark);
  --dt-border-light: #1e293b;
}

// === Accessibility: Reduced Motion Support ===
// 尊重用户的动画偏好设置，减少动画以防止晕动症或注意力分散
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

// === Focus Visible for Better Keyboard Navigation ===
// 改善键盘导航的焦点指示器
:focus-visible {
  outline: 2px solid var(--dt-brand-color);
  outline-offset: 2px;
}

// 仅在键盘导航时显示焦点样式
:focus:not(:focus-visible) {
  outline: none;
}