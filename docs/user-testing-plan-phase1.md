# 用户测试计划 - Phase 1 P0 功能

## 测试概述

**测试目标**: 验证 Phase 1 P0 功能的可用性和用户满意度
**测试时间**: 1 天（每组 1-2 小时）
**测试人数**: 2-3 名用户
**测试环境**: 内网测试环境（172.168.20.222）

**测试范围**:
- ✅ Task 1.1: 消息发送状态 UI 显示
- ✅ Task 1.2: 失败消息重试机制
- ✅ Task 1.3: 拖拽上传 + 粘贴上传

---

## 测试前准备

### 环境检查
- [ ] 后端服务运行正常（http://172.168.20.222:8080）
- [ ] 前端开发服务器运行（http://localhost:5173）
- [ ] MySQL 连接正常（172.168.20.222:3306）
- [ ] Redis 连接正常（172.168.20.222:6379）
- [ ] 测试账号已准备（至少 3 个账号，用于群聊测试）

### 测试账号
| 用户名 | 密码 | 角色 | 用途 |
|--------|------|------|------|
| test1 | 123456 | 普通用户 | 单聊测试 |
| test2 | 123456 | 普通用户 | 单聊测试 |
| test3 | 123456 | 普通用户 | 群聊测试 |

---

## 测试用例

### 用例 1: 消息发送状态 UI（Task 1.1）

#### 1.1 发送中状态
**步骤**:
1. 在输入框输入文字
2. 点击发送按钮
3. 观察消息气泡右侧的状态图标

**预期结果**:
- [ ] 显示"发送中"状态（转圈动画）
- [ ] 图标位置正确（消息气泡右侧）
- [ ] 动画流畅，无卡顿

**观察要点**:
- 用户是否注意到状态变化？
- 用户是否理解"转圈"含义？
- 用户是否会重复点击发送？

---

#### 1.2 已送达状态
**步骤**:
1. 等待消息发送完成
2. 观察状态图标变化

**预期结果**:
- [ ] 显示"已送达"状态（灰色对勾 ✓）
- [ ] 颜色符合钉钉标准（#999999）
- [ ] 图标清晰可辨

**观察要点**:
- 用户是否注意到状态从"发送中"变为"已送达"？
- 用户是否理解灰色对勾的含义？

---

#### 1.3 已读状态（单聊）
**步骤**:
1. 发送消息给 test2
2. 让 test2 查看消息
3. 观察发送方状态变化

**预期结果**:
- [ ] 显示"已读"状态（蓝色双对勾 ✓✓）
- [ ] 颜色符合钉钉标准（蓝色）
- [ ] 图标清晰可辨

**观察要点**:
- 用户是否理解"已读"状态？
- 用户是否会点击状态查看详情？

---

#### 1.4 已读状态（群聊）
**步骤**:
1. 在 3 人群组中发送消息
2. 观察"已读"状态显示

**预期结果**:
- [ ] 显示已读人数（如"已读 2/3"）
- [ ] 点击可查看已读成员列表
- [ ] 未读成员置灰显示

**观察要点**:
- 用户是否理解"已读 2/3"的含义？
- 用户是否会点击查看详情？
- 用户是否会使用"一键提醒未读"功能？

---

#### 1.5 发送失败状态
**步骤**:
1. 断开网络连接
2. 发送消息
3. 观察失败状态显示

**预期结果**:
- [ ] 显示"发送失败"状态（红色感叹号）
- [ ] 有红色背景高亮
- [ ] 显示"点击重发"提示文字
- [ ] 悬停显示错误原因

**观察要点**:
- 用户是否立即注意到失败？
- 用户是否知道如何重试？
- 用户是否理解红色感叹号的含义？

---

### 用例 2: 失败消息重试机制（Task 1.2）

#### 2.1 点击重试
**步骤**:
1. 发送一条失败的消息
2. 点击红色感叹号重试按钮
3. 观察重试过程

**预期结果**:
- [ ] 点击后状态变为"发送中"
- [ ] 提示"正在重试发送..."
- [ ] 重试成功后显示"已送达"
- [ ] 重试失败后保持失败状态

**观察要点**:
- 用户是否知道可以点击重试？
- 用户是否理解"正在重试"提示？
- 重试失败后用户是否知道已达到上限？

---

#### 2.2 重试次数限制
**步骤**:
1. 连续重试失败的消息 3 次
2. 观察第 4 次尝试

**预期结果**:
- [ ] 第 4 次点击提示"重试次数已达上限（最多3次）"
- [ ] 不再执行重试操作
- [ ] 提示信息清晰明确

**观察要点**:
- 用户是否理解重试限制？
- 用户是否会继续点击（无效果）？
- 用户是否知道如何处理（删除/重新发送）？

---

### 用例 3: 拖拽上传（Task 1.3）

#### 3.1 发现拖拽功能
**步骤**:
1. 让用户自由探索输入框
2. 不提供任何提示
3. 观察用户是否发现拖拽功能

**预期结果**:
- [ ] 用户注意到"拖拽文件到这里"引导提示
- [ ] 用户尝试拖拽文件
- [ ] 拖拽时显示蓝色虚线边框高亮

**观察要点**:
- 用户是否注意到引导提示？
- 用户是否知道可以拖拽文件？
- 用户是否理解蓝色虚线边框的含义？

---

#### 3.2 拖拽单个文件
**步骤**:
1. 从文件管理器拖拽一张图片到输入框
2. 观察上传过程

**预期结果**:
- [ ] 拖拽进入时显示"松开即可发送文件"
- [ ] 松开后显示文件预览对话框
- [ ] 可添加描述后发送
- [ ] 上传进度显示正确

**观察要点**:
- 用户是否理解"松开即可发送文件"？
- 用户是否知道如何取消上传？
- 用户是否满意预览对话框？

---

#### 3.3 拖拽多个文件
**步骤**:
1. 同时拖拽 5 张图片到输入框
2. 观察并发上传行为

**预期结果**:
- [ ] 最多同时上传 3 个文件
- [ ] 其余文件排队等待
- [ ] 上传完成后自动发送
- [ ] 无明显卡顿或延迟

**观察要点**:
- 用户是否注意到并发限制？
- 用户是否满意上传速度？
- 用户是否知道哪些文件正在上传？

---

### 用例 4: 粘贴上传（Task 1.3）

#### 4.1 粘贴图片（截图）
**步骤**:
1. 使用截图工具截取一张图片
2. 在输入框按 Ctrl+V
3. 观察粘贴上传行为

**预期结果**:
- [ ] 粘贴后立即显示文件预览对话框
- [ ] 图片正确识别
- [ ] 可直接发送
- [ ] 上传动画流畅

**观察要点**:
- 用户是否知道可以粘贴图片？
- 用户是否习惯使用 Ctrl+V？
- 用户是否满意粘贴上传的体验？

---

#### 4.2 粘贴图片（文件）
**步骤**:
1. 在文件管理器复制一张图片
2. 在输入框按 Ctrl+V
3. 观察粘贴上传行为

**预期结果**:
- [ ] 粘贴后显示文件预览对话框
- [ ] 图片文件正确识别
- [ ] 可添加描述后发送

**观察要点**:
- 用户是否知道可以粘贴文件？
- 用户是否区分截图粘贴和文件粘贴？

---

## 关键决策点问题

### 图片预览满意度调查

**问题**: 您对当前图片预览功能的满意度如何？（1-5分）

**评分标准**:
- 5分：非常好，完全满足需求
- 4分：很好，基本满足需求
- 3分：一般，勉强够用
- 2分：不太好，需要改进
- 1分：很差，无法使用

**后续决策**:
- 如果平均分 ≥ 4分 → 不优化图片预览，继续其他功能
- 如果平均分 < 4分 → 加回 Phase 3，优化图片预览

---

## 用户反馈问卷

### 基本信息
- 姓名: ___________
- 年龄: ___________
- 职业: ___________
- 日常使用 IM 工具: ___________

### 功能使用频率

请为以下功能打分（1-很少使用，5-经常使用）:

| 功能 | 1 | 2 | 3 | 4 | 5 |
|------|---|---|---|---|---|
| 查看消息发送状态 | ☐ | ☐ | ☐ | ☐ | ☐ |
| 重试失败消息 | ☐ | ☐ | ☐ | ☐ | ☐ |
| 拖拽上传文件 | ☐ | ☐ | ☐ | ☐ | ☐ |
| 粘贴上传图片 | ☐ | ☐ | ☐ | ☐ | ☐ |
| 查看群聊已读成员 | ☐ | ☐ | ☐ | ☐ | ☐ |

### 满意度评价

请为以下功能打分（1-非常不满意，5-非常满意）:

| 功能 | 1 | 2 | 3 | 4 | 5 |
|------|---|---|---|---|---|
| 消息发送状态显示 | ☐ | ☐ | ☐ | ☐ | ☐ |
| 失败消息重试体验 | ☐ | ☐ | ☐ | ☐ | ☐ |
| 拖拽上传体验 | ☐ | ☐ | ☐ | ☐ | ☐ |
| 粘贴上传体验 | ☐ | ☐ | ☐ | ☐ | ☐ |
| 群聊已读详情 | ☐ | ☐ | ☐ | ☐ | ☐ |
| **图片预览功能** | ☐ | ☐ | ☐ | ☐ | ☐ |

### 开放式问题

1. **最困惑的功能**: _________________________________________
   _____________________________________________________

2. **最喜欢的功能**: _________________________________________
   _____________________________________________________

3. **最不喜欢的功能**: _________________________________________
   _____________________________________________________

4. **希望改进的地方**: _________________________________________
   _____________________________________________________
   _____________________________________________________

5. **其他建议**: _________________________________________
   _____________________________________________________
   _____________________________________________________

---

## 观察记录表

### 测试会话记录

**测试日期**: ___________
**测试人员**: ___________
**测试用户**: ___________
**开始时间**: ___________
**结束时间**: ___________

### 困惑点记录

| 时间 | 功能/操作 | 用户困惑 | 观察员备注 |
|------|----------|---------|-----------|
| | | | |
| | | | |
| | | | |

### 意外行为记录

| 时间 | 功能/操作 | 意外行为 | 可能原因 |
|------|----------|---------|---------|
| | | | |
| | | | |
| | | | |

### 用户情绪记录

| 时间 | 功能 | 情绪状态（😊/😐/😟） | 备注 |
|------|------|-------------------|------|
| | | | |
| | | | |

---

## 测试后分析

### 数据统计

**功能使用频率**:
- 消息发送状态查看: _____ 次
- 失败消息重试: _____ 次
- 拖拽上传: _____ 次
- 粘贴上传: _____ 次
- 群聊已读详情: _____ 次

**困惑点统计**:
- Task 1.1: _____ 个
- Task 1.2: _____ 个
- Task 1.3: _____ 个

**满意度平均分**:
- 消息发送状态: _____ 分
- 失败消息重试: _____ 分
- 拖拽上传: _____ 分
- 粘贴上传: _____ 分
- 群聊已读详情: _____ 分
- **图片预览: _____ 分** ⚠️ 关键决策点

### 改进建议优先级

根据用户反馈和观察记录，对改进建议进行优先级排序：

| 优先级 | 改进建议 | 来源 | 预估工作量 |
|--------|---------|------|-----------|
| P0 | | | |
| P1 | | | |
| P2 | | | |
| P3 | | | |

---

## 关键决策

### 决策点 1: 图片预览优化

**用户满意度**: _____ 分

**决策**:
- [ ] 满意度 ≥ 4分 → 不优化图片预览
- [ ] 满意度 < 4分 → 加回 Phase 3

**理由**: _________________________________________

### 决策点 2: Phase 2 功能优先级

根据用户反馈，P1 功能优先级排序：

1. ____________________
2. ____________________
3. ____________________
4. ____________________
5. ____________________

**理由**: _________________________________________

---

## 附录

### 测试环境信息
- 前端版本: Vue 3.3.11 + Vite 5.0.7
- 后端版本: Spring Boot 2.7.18
- 浏览器: Chrome ________
- 操作系统: _____________
- 网络环境: _____________

### 测试数据
- 测试消息数: _____ 条
- 测试文件数: _____ 个
- 测试图片数: _____ 张
- 失败消息数: _____ 条
- 重试次数: _____ 次

### 问题跟踪

| 问题ID | 问题描述 | 严重程度 | 状态 | 负责人 |
|--------|---------|---------|------|--------|
| | | | | |
| | | | | |

---

**文档版本**: v1.0
**最后更新**: 2026-01-31
**维护人员**: Claude Code
