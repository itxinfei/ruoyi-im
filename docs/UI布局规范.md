# RuoYi-IM UI布局规范

> **说明**：本规范定义钉钉风格的UI布局，功能菜单和页面结构参考钉钉PC版。

---

## 一、整体布局结构

```
┌─────────────────────────────────────────────────────────────┐
│                      顶部导航栏 (48px)                        │
│  [Logo] [搜索]              [用户信息] [功能图标]            │
├────────┬────────────────────────────────────────────────────┤
│左侧导航│                      │                             │
│ 栏    │      内容工作区        │  (可选右侧面板)              │
│(60px) │                      │                             │
│        │                      │                             │
│ • 消息 │                      │                             │
│ • 联系人│                      │                             │
│ • 工作台│                      │                             │
│ • 云盘  │                      │                             │
│ • 日历  │                      │                             │
│ • 待办  │                      │                             │
│ • 审批  │                      │                             │
│ • 邮箱  │                      │                             │
│ • AI助理│                      │                             │
│ • 设置  │                      │                             │
│        │                      │                             │
└────────┴──────────────────────┴─────────────────────────────┘
```

---

## 二、左侧导航栏

### 2.1 菜单列表

| 顺序 | 键值(key) | 标签 | 图标 | 说明 |
|------|-----------|------|------|------|
| 1 | chat | 消息 | ChatDotRound | 核心功能，未读红点 |
| 2 | contacts | 联系人 | User | 组织架构、好友 |
| 3 | workbench | 工作台 | Grid | 考勤、审批、日程 |
| 4 | drive | 云盘 | FolderOpened | 文件管理 |
| 5 | calendar | 日历 | Calendar | 日程管理 |
| 6 | todo | 待办 | Clock | 待办事项 |
| 7 | approval | 审批 | Document | 审批流程 |
| 8 | mail | 邮箱 | ChatLineSquare | 邮件管理 |
| 9 | assistant | AI助理 | MagicStick | AI助手(紫色主题) |
| 10 | settings | 设置 | Setting | 系统设置 |

### 2.2 尺寸规范

| 项目 | 值 | 说明 |
|------|-----|------|
| 导航栏宽度 | 60px | 可调整(60-200px) |
| 导航项尺寸 | 48×48px | 正方形 |
| 图标尺寸 | 22px | Element Plus图标 |
| 激活指示条 | 3px宽×24px高 | 左侧蓝色条 |
| 未读红点 | 10×10px | 圆形红点 |
| 徽章 | 渐变红 | 支持数字显示 |

### 2.3 颜色规范

| 状态 | 图标颜色 | 背景色 |
|------|---------|--------|
| 默认 | #8c8c8c | transparent |
| hover | #8c8c8c | rgba(0,0,0,0.04) |
| 激活 | #1677ff | rgba(22,119,255,0.1) |
| AI助理激活 | #722ED1 | rgba(114,46,209,0.1) |

### 2.4 交互效果

- hover：背景淡灰 + 图标轻微放大(1.05倍)
- active：左侧显示蓝色指示条 + 背景淡蓝
- 点击：有缩放反馈(scale 0.95)

---

## 三、聊天窗口布局

### 3.1 结构划分

```
┌─────────────────────────────────────────────────────────────┐
│  头部 (56px)                                                  │
│  [头像] [名称] [在线状态]        [搜索] [电话] [更多]         │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  消息区域 (自适应)                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  时间分割线                                            │   │
│  │  消息气泡 (我)                        消息气泡 (对方)  │   │
│  │  消息气泡                              消息气泡        │   │
│  │                                               ...     │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                               │
├─────────────────────────────────────────────────────────────┤
│  输入区 (自适应，max 200px)                                   │
│  [工具栏: 表情 文件 图片 @ 截图 ...]                          │
│  ┌─────────────────────────────────────────────────────┐   │
│  │                                                      │   │
│  │              多行输入框                              │   │
│  │                                                      │   │
│  ┌─────────────────────────────────────────────────────┘   │
│  [发送按钮]                                                  │
├─────────────────────────────────────────────────────────────┤
│  右侧面板 (可收起，280px)                                     │
│  [群资料/个人资料/文件/成员...]                               │
└─────────────────────────────────────────────────────────────┘
```

### 3.2 消息气泡

| 类型 | 背景色 | 文字颜色 | 圆角 |
|------|--------|---------|------|
| 我发送的消息 | #1677ff | #ffffff | 8px |
| 收到的消息 | #ffffff | #262626 | 8px |
| 系统消息 | transparent | #8c8c8c | - |

### 3.3 输入区工具栏

| 图标 | 功能 |
|------|------|
| 😊 | 表情 |
| 📎 | 文件 |
| 🖼️ | 图片 |
| @ | @提及 |
| 📸 | 截图 |

---

## 四、当前实现状态

### 4.1 已完成 ✅

| 模块 | 状态 | 说明 |
|------|------|------|
| 左侧导航栏 | ✅ | 60px宽度、10个菜单项、hover/active效果 |
| 聊天窗口布局 | ✅ | 头部+消息区+输入区+右侧面板 |
| 消息气泡 | ✅ | 我方/对方气泡样式 |
| 工作台模块 | ✅ | 考勤、审批、日程、工作报告 |
| 通讯录模块 | ✅ | 组织架构、好友列表 |
| DING消息 | ✅ | DING发送、已读回执 |

### 4.2 待完善 ⚠️

| 模块 | 说明 |
|------|------|
| 右侧面板 | 群资料/个人资料详情 |
| 消息搜索 | 聊天记录搜索功能 |
| 视频通话UI | WebRTC通话界面 |

---

## 五、样式文件说明

### 5.1 钉钉风格样式文件

```
ruoyi-im-web/src/styles/
├── dingtalk-index.scss        # 主入口
├── dingtalk-theme.scss        # 主题变量
├── dingtalk-navigation.scss   # 导航侧边栏
├── dingtalk-message.scss      # 消息气泡
├── dingtalk-chat-input.scss   # 输入框
├── dingtalk-components.scss   # 通用组件
├── dingtalk-emoji.scss        # 表情
├── dingtalk-contacts.scss     # 通讯录
├── dingtalk-modal.scss        # 弹窗
└── dingtalk-utils.scss        # 工具类
```

### 5.2 引入方式

在 `main.js` 中全局引入：

```javascript
import '@/styles/dingtalk-index.scss'
```

### 5.3 核心CSS变量

```scss
--im-primary-color: #1677ff;    // 钉钉蓝
--im-text-primary: #262626;     // 主要文字
--im-text-secondary: #595959;   // 次要文字
--im-bg-base: #f0f2f5;          // 基础背景
--im-bg-white: #ffffff;         // 白色背景
--im-border-color: #f0f0f0;     // 边框颜色
```

---

## 六、参考文件

| 文件 | 路径 | 说明 |
|------|------|------|
| 左侧导航组件 | `views/im/components/ImSideNav/index.vue` | 导航栏实现 |
| 主布局组件 | `views/im/components/ImLayout.vue` | 整体布局 |
| 聊天工作区 | `views/im/workspaces/ChatWorkspace.vue` | 聊天界面 |
| 消息气泡 | `views/im/components/shared/MessageBubble.vue` | 气泡样式 |
| 样式变量 | `src/styles/variables.scss` | 颜色变量 |

---

## 七、后续优化项

1. **右侧面板完善** — 群资料、个人资料详情页
2. **消息搜索** — 聊天记录关键词搜索
3. **视频通话UI** — WebRTC视频通话浮层
4. **暗色主题** — 完整的深色模式支持

---

> **注意**：本规范基于钉钉PC版 6.5.x版本，实际开发中可根据需求调整。
